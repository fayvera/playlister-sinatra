
<% if flash.has?(:message) %>
<%= flash[:message] %>
<% end %>

<h1>Edit <%= @song.name %></h1>

    <form action="/songs/<%= @song.slug %>" method="POST">
        <input type="hidden" name="_method" value="PATCH">

        <label for="name">Name</label>
        <input type="text" name="song[name]" id="name" value="<%= @song.name %>"><br>

        <label for="artist_name">Artist Name</label>
        <input type="text" name="artist[name]" value="<%= @song.artist.name %>" id="artist_name"><br>

        <label>Genres:</label><br>
        <p>
        <% @genres.each do |genre| %>
            <label><%= genre.name %></label>
        <input type="checkbox" name='genres[]' value="<%= genre.id %>" id="<%= genre.name %>" <%= 'checked' if @song.genres.include?(genre) %>><br>
        <% end %>
        </p>
        <input type="submit" value="Save">

    </form>

<a href="/songs">Back to Songs</a>

